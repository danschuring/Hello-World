<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="utf-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <![endif]-->

<title>Lighting Cost Comparison - CSS Grid, JavaScript</title>

<script>
/* see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString#examples
for Number.prototype.toLocaleString() on Mozilla to display numbers with thousands and decimal separators. 

See 
https://stackoverflow.com/questions/4535963/how-can-i-add-an-unremovable-prefix-to-an-html-input-field
for ideas on prefixes or suffixes like $ or "watts" as unit labels.
*/

function hoursFunc() {
  var x = document.getElementById("hours").value;
  document.getElementById("output01").innerHTML = x + " hrs.";
}

function costPerKWhFunc() {
  var x = document.getElementById("costPerKWh").value;
  document.getElementById("output02").innerHTML = "$" + x;
}

function resetStuff() {
  history.go(0);
//  window.location.href = window.location.href;
//  var x = document.getElementById("hours").value;
//  document.getElementById("output01").innerHTML = x + " hrs.";
}


function results (form) {
  let start = Number(parameters.startNum.value);
  let end = Number(parameters.endNum.value);
  let howMany = Number(parameters.howMany.value);
  if (start < 0 || start % 1 !== 0) {
    return document.getElementById('myList').innerHTML = 
      "start = " + start + " (or you left it blank)" + 
      "<br />end = " + end + 
      "<br />howMany = " + howMany + 
      "<br />The start number must be a non-negative integer. <br />Please re-enter and submit again.";
  } else if (end < start || end > 1000000 || end % 1 !== 0) {
    return document.getElementById('myList').innerHTML = 
      "start = " + start + 
      "<br />end = " + end + 
      "<br />howMany = " + howMany + 
      "<br />The end number must be an integer greater than the start number but not more than 1,000,000. <br />Please re-enter and submit again. ";
  } else if (howMany > end - start || howMany <= 0 || howMany % 1 !== 0 || howMany > 1000) {
    return document.getElementById('myList').innerHTML = 
      "start = " + start + 
      "<br />end = " + end + 
      "<br />howMany = " + howMany + 
      "<br />The amount of numbers to randomly pick must be an integer from 1 to 1,000 inclusive but not more than the amount of numbers in the list generated by the start and end numbers you chose. <br />Please re-enter and submit again.";
  } else {
    let ordList = [];
    for (let i = start; i <= end; i++) {
    ordList.push(i);
    }
        console.log("ordList is: " + ordList);
      let randList = [];
      for (let j = 1; j <= howMany; j++) {
        randList.push(ordList.splice(Math.round(Math.random() * (ordList.length - j)) , 1)[0]);
        console.log("randList is: " + randList);
        console.log("ordList is: " + ordList);
      }
      if (howMany === 1) {
        document.getElementById('myList').innerHTML = 
        "Random number selected: <br />" + 
        JSON.stringify(randList, null, 1);
      } else {
        document.getElementById('myList').innerHTML = 
        "Random numbers selected: <br />" + 
        JSON.stringify(randList, null, 1)/* + "<br /><br />" + 
        "Original ordered list selected from: <br />" + 
        JSON.stringify(ordList, null, 1)*/;
      }
  }
}

/* 
function reset () {
  document.getElementById('myList').innerHTML = ""
}
reset()
*/

/*
From right below the .container div

  <p>Use this form to pick random numbers from a list. The list to choose random numbers from will be generated by JavaScript based on the start and end numbers indicated and how many numbers you designate to be randomly selected from the list. The list will include only non-negative whole numbers from the start number to the end number, inclusive. As each random number is selected, it is removed from the list to prevent duplicate selection. You could use this app to randomly draw items from any list that you can number according to these perameters.</p>

  <form name="parameters" action="" method="post" onsubmit="results(this.form); return false">

  <div class="row">
    <div class="col-sm-4" style="background-color:lavender;">
      <label for="startNum">Enter the start number of your ordered list (zero or greater)</label><br>
      <input type="number" name="startNum" min="0" max="999999" value="1" required><br /><br />
    </div> <!-- /.col-sm-4 -->

    <div class="col-sm-4" style="background-color:lavenderblush;">
      <label for="endNum">Enter the end number of your ordered list (greater than your start number but no more than 1,000,000)</label><br>
      <input type="number" name="endNum" min="1" max="1000000" value="10" required><br /><br />
    </div> <!-- /.col-sm-4 -->

    <div class="col-sm-4" style="background-color:lavender;">
      <label for="howMany">Designate how many numbers to randomly select (up to 1,000 but not more than the numbers in the list)</label><br>
      <input type="number" name="howMany" min="1" max="1000" value="1" required>
    </div> <!-- /.col-sm-4 -->

  </div> <!-- /.row -->

    <br />
    
    <div class="submit-reset">
        <input type="submit">
        <input id="reset" onclick="document.getElementById('myList').innerHTML = ''" type="reset">
      <span style="padding-left:0.6em;">(Results will be displayed below.)</span>
    </div> <!-- /.submit-reset -->
    <br />

  
  </form><br />

</div> <!-- /.container-fluid -->

<div id="output" class="well">
  <p>Results<br /><br />
    <span id="myList"></span>
  </p>
</div> <!-- /#output -->
*/

</script>


<style>
body {
  font-family:Verdana,Arial,sans-serif;
}

input {
  font-size: 1.1em;
}

.container {
  border: dotted #444 2px;
  width: 100%;
  background: LightGray;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(15, auto);
  grid-gap: 3px;
}

.container div {
  padding: .5em 1em;
  text-align: right;
}

.container p {
  margin: .5em 0;
}

.header {
  background: LightBlue;
}

.description {
  background: white;
}

.input {
  background: lightyellow;
}

.output {
  background: white;
}

.submit-reset {
  grid-area: 7/1/8/4;
  background: lavender;
}



@media (min-width: 800px){
  .container{
    width: 80%;
    margin-left: auto;
    margin-right: auto;
    grid-template-columns: minmax(300px, 1fr) repeat(2, 1fr);
    }
  }

</style>

</head>

<body>

<div id="header">
  <h1>Compare Costs of Different Light Bulbs</h1>
  <p>Most may want to do what’s best for the environment, but the perceived hurdles to making envioronmentally friendly changes can make it difficult. New technology may cost more upfront, may have certain environmental downsides (flourescent lights contain mercury for example), or may not provide the same quality (flourescent lighting can be harsh). But, lighting turned a corner with LEDs (light-emitting diode bulbs). They are more efficient than even flourescent bulbs, and the quality of light is about the same as incandescent bulbs. The only thing standing in your way may be the costs of the LED bulbs which can be three to five or more times the expense of incandescent bulbs. If you do the math though, it becomes a no-brainer to make the switch in most cases, even from flourescents. If you’re on a tight budget, replace a few bulbs a month with the efficient LEDs, starting with the lights you use most often.  
  </p>
  <p>Use the table below to see what your savings could be. Change the values in yellow cells to match your situation, or leave the defaults to see a common savings estimate.
  </p>
</div>

<form id="myForm" class="container" name="inputForm" action="" method="post" onsubmit="calcs(this.form); return false" onreset="location.reload()">
  
  <div></div>
  <div class="header">
    1st bulb
  </div>
  <div class="header">
    2nd bulb
  </div>

  <div class="description">
    <label for="1stWatts">Enter watts for 1st bulb</label>
    <label for="2ndWatts">and second bulb</label>
  </div>
  <div class="input" title="60 watts is common for incandescent bulbs.">
      <input type="number" name="1stWatts" id="1stWatts" min="1" max="1000" value="60" required>
  </div>
    <div class="input" title="8 watts is common for an LED with similar light output to a 60 watt incandescent bulb.">
      <input type="number" name="2ndWatts" id="2ndWatts" min="1" max="1000" value="8" required>
  </div>

  <div class="description">
    <label for="hours">Enter average hours bulb is used per day</label>
  </div>
  <div class="input" title="About 4 hours of use per day is common, but usage varies greatly.">
    <input oninput="hoursFunc()" type="number" name="hours" id="hours" min="0" max="24" value="4" required>
  </div>
  <div class="output">
    <span id="output01">4</span>
  </div>
  
  <div class="description">
    <label for="costPerKWh">Enter cost per kilowatt hour.</label>
  </div>
  <div class="input" title="Per the U.S. Energy Information Administration, the average residential cost per kilowatt hour was $0.1376 (13.76 cents) in April 2021 (as found  21 July 2021 at https://www.eia.gov/electricity/monthly/epm_table_grapher.php?t=epmt_5_6_a on 21 July 2021).">
    $<input oninput="costPerKWhFunc()" type="number" name="costPerKWh" id="costPerKWh" min="0" max="2" value="0.1376" step="0.0001" required>
  </div>
  <div class="output">
    <span id="output02">$0.1376</span>
  </div>
  
  <div class="description">
    <label for="1stPrice">Enter price for 1st bulb</label>
    <label for="2ndPrice">and second bulb</label>
  </div>
  <div class="input" title="$1.00 per incandescent bulb was the price for a candelabra-type bulb on Homedepot.com on 21 July 2021.">
      $<input type="number" name="1stPrice" id="1stPrice" min="0" max="100" value="1" step="0.01" required>
  </div>
    <div class="input" title="$3.16 per incandescent bulb was the price for a candelabra-type bulb on Homedepot.com on 21 July 2021.">
      $<input type="number" name="2ndPrice" id="2ndPrice" min="0" max="100" value="3.16" step="0.01" required>
  </div>
  
    <div class="description">
    <label for="1stRated">Enter rated hours for 1st bulb</label>
    <label for="2ndrated">and second bulb</label>
  </div>
  <div class="input" title="The incandescent bulb I looked at at HomeDepot.com was rated to last for 3,000 hours. A more typical rating for an incandescent bulb would be for 1,000 to 2,000 hours.">
      <input type="number" name="1stRated" id="1stRated" min="100" max="100000" value="3000" required>
  </div>
    <div class="input" title="The LED bulb I looked at at HomeDepot.com was rated to last for 15,000 hours. LED lights can be rated to last for 25,000 hours.">
      <input type="number" name="2ndRated" id="2ndRated" min="100" max="100000" value="15000" required>
  </div>
  
  <div class="description">
    <span>Kilowatt hours per year</span>
  </div>
  <div class="output">
    <span id="output03">[3. output here]</span>
  </div>
  <div class="output">
    <span id="output04">[4. output here]</span>
  </div>
  
  <div class="description">
    <span>Energy cost per year</span>
  </div>
  <div class="output">
    <span id="output05">[5. output here]</span>
  </div>
  <div class="output">
    <span id="output06">[6. output here]</span>
  </div>
  
  <div class="description">
    <span>Difference in energy cost from 1st bulb</span>
  </div>
  <div class="output">
    <span id="output07">[7. output here]</span>
  </div>
  <div class="output">
    <span id="output08">[8. output here]</span>
  </div>
  
  <div class="description">
    <span>Bulbs per year</span>
  </div>
  <div class="output">
    <span id="output09">[9. output here]</span>
  </div>
  <div class="output">
    <span id="output10">[10. output here]</span>
  </div>
  
  <div class="description">
    <span>Hardware cost per year</span>
  </div>
  <div class="output">
    <span id="output11">[11. output here]</span>
  </div>
  <div class="output">
    <span id="output12">[12. output here]</span>
  </div>      
  
  <div class="description">
  <span>Hardware pluse energy costs per year</span>
  </div>
  <div class="output">
    <span id="output13">[13. output here]</span>
  </div>
  <div class="output">
    <span id="output14">[14. output here]</span>
  </div>
  
  <div class="description">
    <span>Difference in total cost from 1st bulb</span>
  </div>
  <div class="output">
    <span id="output15">[15. output here]</span>
  </div>
  <div class="output">
    <span id="output16">[16. output here]</span>
  </div>  
  
  <div class="description">
    <span>Percent of total costs of 1st bulb</span>
  </div>
  <div class="output">
    <span id="output17">[17. output here]</span>
  </div>
  <div class="output">
    <span id="output18">[18. output here]</span>
  </div>
  
      <div class="submit-reset" style="text-align:left;">
        <input type="submit">
        <!-- The onClick="location.href=location.href reloads the entire page; did this to make the hours and coster per kWh for 2nd bulb reset. -->
        <input type="reset" onClick="resetStuff()">
      <span style="padding-left:0.6em;">(Results will be displayed below.)</span>
    </div> <!-- /.submit-reset -->
  test

</form> <!-- /.container -->
<br /><br />

</body>
</html>
